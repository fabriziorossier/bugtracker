{{> title}}

<div class="text-center">
    <button type="button" class="btn btn-dark" id="createBugButton" onclick="createBugButton()">Crear bug</button>
    <button type="button" class="btn btn-dark" id="createUserButton" onclick="createUserButton()">Crear usuario</button>
</div>

{{!-- Crear bug --}}
<form action="/bug" method="POST" id="createBug" class="d-none">
    <div class="mb-3">
        <label for="bugName" class="form-label">Nombre del Bug</label>
        <input type="text" id="bugName" name="bugName">
        <div id="emailHelp" class="form-text">Nunca compartiremos tu email con nadie.</div>
    </div>
    <div class="mb-3">
        <label for="bugDescription" class="form-label">Descripcion del Bug</label>
        <input type="text" id="bugDescription" name="bugDescription">
    </div>
    <div class="mb-3">
        <label for="bugUser" class="form-label">Desarrollador</label>
        <select name="bugUser" id="bugUser" class="form-select">
            {{#each usersGeneral}}
                {{> userByUser individualUser=this}}
            {{/each}}
        </select>
    </div>
    <button type="submit">Crear bug</button>
</form>

{{!-- Crear usuario --}}
<form action="/user" method="POST" id="createUser" class="d-none">
    <div class="mb-3">
        <label for="userName" class="form-label">Nombre de usuario</label>
        <input type="text" id="userName" name="userName">
    </div>
    <div class="mb-3">
        <label for="userEmail" class="form-label">Email</label>
        <input type="text" id="userEmail" name="userEmail">
    </div>
    <div class="mb-3">
        <label for="userPassword" class="form-label">Contrase√±a</label>
        <input type="password" id="userPassword" name="userPassword">
    </div>
    <div class="mb-3">
        <label for="userRol" class="form-label">Rol</label>
        <select id="userRol" name="userRol" class="form-select">
            {{#each rols}}
                {{> rol individualRol=this}}
            {{/each}}
        </select>
    </div>
    <button type="submit">Crear usuario</button>
</form>

<script>
    let createBugForm = document.querySelector('#createBug');
    let createUserForm = document.querySelector('#createUser');
    const createBugButton = () => {
        createBugForm.classList.add('d-block');
        createBugForm.classList.remove('d-none');
        createUserForm.classList.remove('d-block');
        createUserForm.classList.add('d-none');
    };
    const createUserButton = () => {
        createUserForm.classList.add('d-block');
        createUserForm.classList.remove('d-none');
        createBugForm.classList.remove('d-block');
        createBugForm.classList.add('d-none');
    };
</script>